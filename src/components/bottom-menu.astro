---
// src/components/BottomMenu.astro
const pathname = new URL(Astro.url).pathname;

const baseClasses = "transition-all duration-300 ease-in-out inline-flex items-center justify-center focus:outline-none";

// Función para verificar si el enlace está activo
const activeClass = (path) => 
    pathname === path 
    ? `${baseClasses} bg-neutral-secondary-medium` // Clase cuando está activo
    : `${baseClasses}`;

const activeClassSVG = (path) => 
    `transition-transform duration-300 ${ pathname === path  ? "text-body text-fg-brand" : ""}`;

---
<header>
    <div class="fixed bottom-0 left-0 z-40 w-full h-16 bg-neutral-primary-soft border-t border-default">
        <div class="grid h-full max-w-lg grid-cols-4 mx-auto font-medium text-body">
            <a href="/" class={`inline-flex flex-col items-center justify-center px-5 ${activeClass("/")}`}>
                <svg class={`w-6 h-6 mb-1 ${activeClassSVG("/")}`} xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m4 12 8-8 8 8M6 10.5V19a1 1 0 0 0 1 1h3v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h3a1 1 0 0 0 1-1v-8.5"/></svg>
                <span class={`text-sm ${activeClassSVG("/")}`}>Inicio</span>
            </a>
            <a href="/ingredientes" class={`inline-flex flex-col items-center justify-center px-5 ${activeClass("/ingredientes")}`}>
                <svg class={`w-6 h-6 mb-1 ${activeClassSVG("/ingredientes")}`} xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10.0419c-1.3902 0-1.3935-1.1249-4.20643-1.037-1.73056.05408-3.15551 2.2303-2.71168 5.3081C5.35949 16.2381 6.98619 21 8.99172 21c2.00548 0 2.07358-.8508 3.00828-.8508.9347 0 .8551.8508 3.0083.8508s3.6322-4.7619 3.9098-6.687c.4438-3.0778-.9811-5.25402-2.7117-5.3081-2.8129-.0879-2.8162 1.037-4.2064 1.037Zm2.3598-4.2126c-.8779.74829-1.8612.71957-2.7221.71957 0-.62576.0792-1.94012.8609-2.76911.7817-.82898 2.1271-.7664 2.6434-.7664 0 .59448.0956 2.06766-.7822 2.81594Z"/></svg>
                <span class={`text-sm ${activeClassSVG("/ingredientes")}`}>Ingredientes</span>
            </a>
            <a href="/recetas" class={`inline-flex flex-col items-center justify-center px-5 ${activeClass("/recetas")}`}>
                <svg class={`w-6 h-6 mb-1 ${activeClassSVG("/recetas")}`} xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.03v13m0-13c-2.819-.831-4.715-1.076-8.029-1.023A.99.99 0 0 0 3 6v11c0 .563.466 1.014 1.03 1.007 3.122-.043 5.018.212 7.97 1.023m0-13c2.819-.831 4.715-1.076 8.029-1.023A.99.99 0 0 1 21 6v11c0 .563-.466 1.014-1.03 1.007-3.122-.043-5.018.212-7.97 1.023"/></svg>
                <span class={`text-sm ${activeClassSVG("/recetas")}`}>Recetas</span>
            </a>
            <a href="/compras" class={`inline-flex flex-col items-center justify-center px-5 ${activeClass("/compras")}`}>
                <svg class={`w-6 h-6 mb-1 ${activeClassSVG("/compras")}`} xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 4h3a1 1 0 0 1 1 1v15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h3m0 3h6m-3 5h3m-6 0h.01M12 16h3m-6 0h.01M10 3v4h4V3h-4Z"/></svg>
                <span class={`text-sm ${activeClassSVG("/compras")}`}>Lista</span>
            </a>
        </div>
    </div>
</header>

